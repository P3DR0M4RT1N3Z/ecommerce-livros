<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>O Sol é Para Todos – Livraria Aurora</title>
  <meta name="description" content="Detalhes do livro O Sol é Para Todos. Veja sinopse, ficha técnica, avaliações e compre na Livraria Aurora.">
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="main-header">
    <div class="container">
      <h1 class="logo">Livraria StoreBooks</h1>
      <nav>
        <ul>
          <li><a href="index.html">Início</a></li>
          <li><a href="catalogo.html">Catálogo</a></li>
          <li><a href="carrinho.html" class="cart-link">Carrinho <span id="cart-count">0</span></a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="produto-section">
      <div class="container produto-flex">
        <div class="produto-capa">
          <img src="" alt="Capa do livro" />
          <button class="btn-secondary btn-leia-trecho" id="abrirTrecho">Leia um trecho</button>
        </div>
        <div class="produto-detalhes">
          <h2></h2>
          <p class="autor"></p>
          <div class="avaliacao">
            <span class="estrelas"></span>
            <span class="nota"></span>
            <span class="qtd-avaliacoes"></span>
          </div>
          <p class="sinopse"></p>
          <ul class="ficha-tecnica"></ul>
          <div class="produto-preco">
            <span class="preco"></span>
            <span class="disponibilidade"></span>
          </div>
          <p class="frase-produto"></p>
            <script>
              window.addEventListener("DOMContentLoaded", function() {
                const savedTheme = localStorage.getItem("theme");
                if (savedTheme === "dark") {
                  document.body.classList.add("dark-theme");
                } else {
                  document.body.classList.remove("dark-theme");
                }
              });
            </script>
          <form class="produto-compra">
            <label for="quantidade">Qtd:</label>
            <input type="number" id="quantidade" name="quantidade" min="1" value="1">
            <button type="submit" class="btn-primary">Adicionar ao Carrinho</button>
          </form>
        </div>
      </div>
    </section>

    <section class="avaliacoes-section">
      <div class="container">
        <h3>Avaliações dos leitores</h3>
        <div class="comentarios-lista">
          <div class="comentario">
            <div class="comentario-topo">
              <span class="comentario-nome">Maria S.</span>
              <span class="comentario-estrelas">★★★★★</span>
            </div>
            <p class="comentario-texto">Livro emocionante, leitura obrigatória! Recomendo muito.</p>
          </div>
          <div class="comentario">
            <div class="comentario-topo">
              <span class="comentario-nome">João P.</span>
              <span class="comentario-estrelas">★★★★☆</span>
            </div>
            <p class="comentario-texto">Reflexivo e sensível. Gostei bastante da narrativa.</p>
          </div>
        </div>
        <form class="comentario-form">
          <h4>Deixe sua avaliação</h4>
          <label for="estrelas">Nota:</label>
          <select id="estrelas" name="estrelas">
            <option value="5">★★★★★</option>
            <option value="4">★★★★☆</option>
            <option value="3">★★★☆☆</option>
            <option value="2">★★☆☆☆</option>
            <option value="1">★☆☆☆☆</option>
          </select>
          <label for="comentario">Comentário:</label>
          <textarea id="comentario" name="comentario" rows="3" placeholder="Compartilhe sua opinião..."></textarea>
          <button type="submit" class="btn-primary">Enviar</button>
        </form>
      </div>
    </section>
  </main>

  <!-- Modal Leia um Trecho -->
  <div id="modalTrecho" class="modal-trecho">
    <div class="modal-trecho-conteudo">
      <button class="modal-fechar" id="fecharTrecho">&times;</button>
      <h3>Leia um trecho</h3>
      <p class="trecho-dinamico"></p>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Livraria StoreBooks. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script src="js/produtos.js"></script>
  <script src="js/produto.js"></script>
  <script>
    // Modal Leia um Trecho
    const abrir = document.getElementById('abrirTrecho');
    const fechar = document.getElementById('fecharTrecho');
    const modal = document.getElementById('modalTrecho');
    abrir.onclick = () => modal.style.display = 'flex';
    fechar.onclick = () => modal.style.display = 'none';
    window.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };
  </script>
</body>
</html>